function getAJAXData(a,b,c){"use strict";try{var d=c?"list-group-item":"panel-body";$("#"+a).html('<div class="'+d+'"><img src="./static/images/loader.gif" alt="Pending.." /></div>');var e,f,g,h=new XMLHttpRequest;h.onreadystatechange=function(){if(4==this.readyState&&200==this.status)if($("#resultArray").append(this.responseText),e=JSON.parse(this.responseText),e.status){if($("#"+a).html(""),e.data.length>0){var b=0;e.data.forEach(function(h){f=d+" "+h.div.class,g=void 0!==h.html&&""!==h.html?"<br />"+h.html:"",$("#"+a).append('<div id="'+h.div.id+'" class="'+f+'">'+h.name+'<span class="pull-right gray">'+h.updated+"</span>"+g+"</div>"),c||e.data.length-1>b&&$("#"+a).append('<hr class="ajax-separator" />'),b++})}else $("#"+a).html('<div class="'+d+'">no data</div>');$.notify({title:e.notify.title,message:e.notify.message},{type:e.notify.type})}else $("#"+a).html('<div class="'+d+' alert-danger">'+e.notify.title+"</div>"),$.notify({title:e.notify.title,message:e.notify.message},{type:e.notify.type})},h.open("GET",b,!0),h.send()}catch(a){$.notify({title:"Error!",message:a.message},{type:"error"})}}function toggleAJAXData(a,b){"use strict";try{$("#"+a).attr("disabled","disabled");var c,d=new XMLHttpRequest;d.onreadystatechange=function(){4==this.readyState&&200==this.status&&($("#resultArray").html(this.responseText),c=JSON.parse(this.responseText),$.notify({title:c.notify.title,message:c.notify.message},{type:c.notify.type}),$("#"+a).removeAttr("disabled"))},d.open("GET",b,!0),d.send()}catch(a){$.notify({title:"Error!",message:a.message},{type:"error"})}}function setLivestock(a){"use strict";try{if(a<1)throw"unknown fence id";console.log("get fence livestocks: "+a),getAJAXData("livestockContainer","ajax.php?site=livestocks&action=getLivestocks&id="+a,!1)}catch(a){console.log(a.message)}}function setGate(a){"use strict";try{if(a<1)throw"unknown fence id";console.log("get fence gates: "+a),getAJAXData("gateContainer","ajax.php?site=gates&action=getGates&id="+a,!1)}catch(a){console.log(a.message)}}function setFence(a){"use strict";$("#resultArray").html(""),setLivestock(a),setGate(a)}function toggleFenceState(a){"use strict";toggleAJAXData("toggle-fence-"+a,"ajax.php?site=fences&action=toggleState&id="+a)}function convert2id(a){"use strict";var b=a.split("-");if(b.length<2)throw"wrong id array length: "+b.length;return b[b.length-1]}